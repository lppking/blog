## Vue源码目录设计
基于Vue 2.6版本。
--- ---
核心代码目录基本结构：
```
|src // 源码目录
|——compiler // 编译相关
|——core // 核心代码
|——platforms // 不同平台的支持
|——server // 服务端渲染相关
|——sfc // .vue文件解析
|——shared // 共享代码
```
--- ---
#### 1. 编译相关
compiler包含所有编译相关的代码，包含把模板解析为AST语法树，AST语法树优化，代码生成等功能。编译的时机有**离线编译**和**运行时编译**。一般考虑到编译的性能问题，推荐离线编译。
--- ---
#### 2. 核心代码
core目录包含vue的核心代码，包含内置组件，全局API的封装，实例化，观察者，虚拟DOM，工具函数等。
--- ---
#### 3. 不同平台的支持
vue是一个跨平台的框架。包含web端和weex（[开发跨平台原生应用](http://weex.apache.org/cn/)）。包含两个子目录，分别是打包用于web和weex的Vue.js
--- ---
#### 4. 服务端渲染相关
Vue从2.0开始支持服务端渲染，所有服务端渲染的逻辑都在这个目录下。这部分代码是跑在服务端的NodeJs。并不是用来跑在web端的。
服务端渲染的主要工作是把组件渲染为HTML字符串。
--- ---
#### 5. .vue文件解析
我们都知道，Vue中一个.vue文件就是一个组件，sfc的工作就是把一个.vue文件变成一个JS对象。
--- ---
#### 6. 共享代码
被浏览器端和服务端的Vue所共享的一些工具方法。
